//   Generated by FlechaRoja Tech Tools (2003) 

package com.unify.webcenter.data;

import java.util.Date;
/**
* Class that represent the table post
* @author Administrator
*/
public class postData extends mainData {
	 protected int topic;
	 //protected char[] message;
         protected String message;
	 protected java.sql.Timestamp created;
	 protected int member;
	 protected int id;
         protected membersData parentMember;
         private int id_account;
	 public void settopic(int val) { topic = val; } 
	/* public void setmessage(String val) {       
             if (val != null)
                message = val.toCharArray();
             else
                 message = "".toCharArray();
         }
         
         public void setmessage(char[] val) { message = val; } */
         public void setmessage(String val) { message = val; } 
	 public void setcreated(java.sql.Timestamp val) { created = val; } 
	 public void setmember(int val) { member = val; } 
	 public void setid(int val) { id = val; } 
         public void setparentMember(membersData val) { parentMember = val; } 

	 public int gettopic() { return topic;}
	 //public char[] getmessage() { return message;}
         public String getmessage() { return message;}
         public String getMessage() { 
             if (message != null)
                return new String(message);
             else
                 return "";
         }
	 public java.sql.Timestamp getcreated() { return created;}
	 public int getmember() { return member;}
	 public int getid() { return id;}
         public membersData getparentMember() {return parentMember; }

   /**
          * Metodo que regresa la fecha y hora del ultimo post formateado.
          */
         public String getFormattedCreated() {
             java.text.SimpleDateFormat format = new java.text.SimpleDateFormat("dd-MMM-yyyy HH:mm");
             
             try {
                return format.format(new Date(created.getTime()));
             } catch (Exception e) {          
                 return "";
             }
         }         
         
       // Regresa la descripcion en formato HTML
         public String getFormatedMessage() {                    
             if (message != null) {

                 StringBuffer temp = new StringBuffer(new String(message));

                 // Los cambios de linea
                 int i = temp.indexOf("\\n");
                 while (i > 0) {
                     temp.replace(i,i+2, "<br>");
                     i = temp.indexOf("\\n");
                 }

                 // Los cambios de linea
                 i = temp.indexOf("\n");
                 while (i > 0) {
                     temp.replace(i,i+1, "<br>");
                     i = temp.indexOf("\n");
                 }


                // Los tabs tambien       
                i = temp.indexOf("\\t");
                 while (i > 0) {
                     temp.replace(i,i+2, "   ");
                     i = temp.indexOf("\\t");
                 }             

                // Los tabs tambien       
                i = temp.indexOf("\t");
                 while (i > 0) {
                     temp.replace(i,i+1, "   ");
                     i = temp.indexOf("\t");
                 }             

                 return temp.toString();
             } else {
                return "";                     
             }

         }         
         
	 public String toString() {
		 return" topic:" + topic + " message:" + (message==null?"":new String(message)) + " id:" + id; 
	 }

    public int getId_account() {
        return id_account;
    }

    public void setId_account(int id_account) {
        this.id_account = id_account;
    }
}