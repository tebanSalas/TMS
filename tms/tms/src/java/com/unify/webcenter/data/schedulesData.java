//   Generated by FlechaRoja Tech Tools (2003) 

package com.unify.webcenter.data;

import com.unify.webcenter.tools.scheduleFormat;
import java.util.Date;

/**
* Class that represent the table schedules
* @author Administrator
*/
public class schedulesData extends mainData {	 
 	 protected int hourid = -1;
	 protected int taskid;
	 protected int userid;
         protected String date;
         private String hour_start;	 
         private String hour_end;
         private int realtime_hours;
         private int realtime_minutes;
	// protected char[] comments;	 
          protected String comments;	 
         protected java.sql.Timestamp last_update;
         protected tasksData parentTask;       
	 private int id_account;
         private String auxRealtimeMinutes;
         
	 public void sethourid(int val) { hourid = val; } 
	 public void settaskid(int val) { taskid = val; } 
	 public void setuserid(int val) { userid = val; } 
         public void setdate(String val) { date = val; } 
 
	 /*public void setcomments(char[] val) { comments = val; } 
         public void setcomments(String val) { comments = val.toCharArray(); }*/
         public void setcomments(String val) { comments = val; }
         public void setlast_update(java.sql.Timestamp val) { last_update = val; } 
         public void setparentTask(tasksData val) { parentTask = val; }         
         
	 public int gethourid() { return hourid;}
	 public int gettaskid() { return taskid;}
	 public int getuserid() { return userid;}
         public String getdate() { return date;}
      	 
	// public char[] getcomments() { return comments;}
          public String getcomments() { return comments;}
         public String getFormatedComments() { 
             if (comments != null)
                return new String(comments);
             else
                 return "";
         }
         public java.sql.Timestamp getlast_update() { return last_update;}
         public tasksData getparentTask() { return parentTask; }

         public int getid() { return hourid; }
         
	 public String toString() {
             if (comments != null)
		 return  " comments:" + new String(comments); 
             else
                 return "";
	 }

    public String getHour_start() {
        return hour_start;
    }

    public void setHour_start(String hour_start) {
        this.hour_start = hour_start;
    }

    public String getHour_end() {
        return hour_end;
    }

    public void setHour_end(String hour_end) {
        this.hour_end = hour_end;
    }
    public String formatHour(int hour){
        return scheduleFormat.hour(1,hour);
    }

    public int getRealtime_hours() {
        return realtime_hours;
    }

    public void setRealtime_hours(int realtime_hours) {
        this.realtime_hours = realtime_hours;
    }

    public int getRealtime_minutes() {
        return realtime_minutes;
    }

    public void setRealtime_minutes(int realtime_minutes) {
        this.realtime_minutes = realtime_minutes;
    }

    public int getId_account() {
        return id_account;
    }

    public void setId_account(int id_account) {
        this.id_account = id_account;
    }

    public String getAuxRealtimeMinutes() {
        return auxRealtimeMinutes;
    }

    public void setAuxRealtimeMinutes(String auxRealtimeMinutes) {
        this.auxRealtimeMinutes = auxRealtimeMinutes;
    }
    
    public String formatTime(int time) {
        if (String.valueOf(time).length() == 1) {
            return "0"+time;
        }else        
        return String.valueOf(time);
    }
    
    public Date getStartDate(){
        String[] fecha=this.date.split("-");
        String[] startHourSplit1=this.getHour_start().split(":");
        String[] startHourSplit2=startHourSplit1[1].split(" ");
        

        
        Date startDate= new Date();
        startDate.setYear(Integer.parseInt(fecha[0]));
        startDate.setMonth(Integer.parseInt(fecha[1]));
        startDate.setDate(Integer.parseInt(fecha[2]));
        if(startHourSplit2[1].equals("pm")){
            startDate.setHours(Integer.parseInt(startHourSplit1[0])+12);
        }else{
            if (!startHourSplit1[0].equals("12")){
                startDate.setHours(Integer.parseInt(startHourSplit1[0]));
            }
            else{
                startDate.setHours(0);
            }
        }
        
        startDate.setMinutes(Integer.parseInt(startHourSplit2[0]));
        
        return startDate;
    }
 
}